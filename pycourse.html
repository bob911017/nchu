<!DOCTYPE html>
<html>
<head>
	<title>Python 教學日誌</title>
  <style>
  p.pos_fixed{
      position:fixed;
      bottom:5px;
      right:5px;
  }
  </style>
</head>
<link rel="icon" href="http://anohito.tw/poi/images/POI_01_B.png" type="image/x-icon">
<body bgcolor='#f6fff6'>
<h1><a name="title">2017 Python 教學日誌</a></h1>
edited by 陳柏因
<p class="pos_fixed"><a href="#title"><img src="http://comic.qq.com/images/comic/2008/01/02/april/tsj/016.gif"width="43" height="43"></a></p>

<table border=1>
  <td><b>目錄</b>
  <ul><h5>
      <li><a href="#a" STYLE="text-decoration:none">前言</a>
      <li><a href="#b" STYLE="text-decoration:none">2017/02/24</a>
      <ul>
          <li><a href="#b1" STYLE="text-decoration:none">安裝</a>
          <li><a href="#b2" STYLE="text-decoration:none">基礎概念</a>
          <li><a href="#b3" STYLE="text-decoration:none">附註</a>
          <li><a href="#b4" STYLE="text-decoration:none">資料的類型(Type)</a>
          <li><a href="#b5" STYLE="text-decoration:none">for迴圈</a>
      </ul>
      <li><a href="#c" STYLE="text-decoration:none">2017/03/03</a>
      <ul>
          <li><a href="#c1" STYLE="text-decoration:none">function and library</a>
          <li><a href="#c2" STYLE="text-decoration:none">常用的library</a>
          <li><a href="#c3" STYLE="text-decoration:none">true and faulse</a>
          <li><a href="#c4" STYLE="text-decoration:none">條件語句</a>
      </ul>
      <li><a href="#d" STYLE="text-decoration:none">2017/03/10</a>
      <ul>
          <li><a href="#d1" STYLE="text-decoration:none">條件循環(while)</a>
          <li><a href="#d2" STYLE="text-decoration:none">使用者輸入</a>
          <li><a href="#d3" STYLE="text-decoration:none">時間(time)</a>
      </ul>
      <li><a href="#e" STYLE="text-decoration:none">2017/03/17</a>
      <ul>
          <li><a href="#e1" STYLE="text-decoration:none">Matrix(矩陣)運算</a>
          <li><a href="#e2" STYLE="text-decoration:none">作圖</a>
          <li><a href="#e3" STYLE="text-decoration:none">解ODE常微分方程</a>
      </ul>
      <li><a href="#f" STYLE="text-decoration:none">2017/03/24</a>
      <li><a href="#g" STYLE="text-decoration:none">2017/04/07</a>
  </h5></ul>
  </td>
</table>
<hr>
<h2>重要更新內容</h2>
<ul>
	<li><b>2017/04/09_22:31: 2017/04/07內容更新</b>
	<li><b>2017/04/09_22:31: VPYTHON_教學後.pptx檔案已上傳至ecampus</b> 
	<li><b>2017/03/24_10:50: 2017/03/24內容更新</b>
	<li><b>2017/03/24_10:50: VPYTHON_教學.pptx檔案已上傳至ecampus</b> 
	<li><b>2017/03/17_11:05: 2017/03/17內容更新</b>
</ul>
<hr>
<h2><a name="a">前言</a></h2>
<p title='注意事項'>※這個網站是提供給有修中興普通物理學的學生，學習python2.7.10版的參考資料使用。我會盡量把每次上課的內容都整理在這個網誌裡。上課我會用PPT和<a href='https://bob911017.github.io/learncode/python.html' target="_blank" ><b>個人網頁</b></a>搭配使用。這算是我第一次教課，上課的速度如果太快或是聽不懂我在說什麼的話，請多包涵，之後也可以跟我反應。課堂外要聯絡我就用<a href='https://www.facebook.com/bob.chen.37051'STYLE="text-decoration:none" target="_blank" ><b>facebook</b></a>吧~</p>
<p>學python的理由，我想老師大概上課都說明了。對我而言因為我不必進行系統的維護，所以python大概就只是一個可以幫我做運算、整理數據或是做圖之類的工具。這個課大概只有6週的時間，所以只會說明一些基本的東西和程式碼編寫的概念，後面各位要製作專題的時候，應該會用到不少課堂上沒教過的指令，這些可能就要自己上網查詢怎麼使用或是問助教。</p>
<h3>成績分配與作業繳交</h3>
<ol>
	<li>作業10分和期末專題5分，共佔總成績15分
    <li>作業繳交狀況<a href='https://docs.google.com/spreadsheets/d/1CUWLqS1_eZKtu5TZ9ElulAUO1uRBWp9hOa0E9a71FEA/edit?usp=sharing' target="_blank"STYLE="text-decoration:none" ><b>連結</b></a>，如果有誤跟助教聯絡
    <li>程式執行的時間<b>不得大於60秒</b>，依情況做調整
	<li>作業請在隔週上課之前交，交上程式碼.py檔，至助教陳師漢的信箱(citrus2717@gmail.com)。
	<li>作業的檔案命名為410XXXXXXX(自己學號)+姓名-?.py，如「<b>4102054036陳柏因-1.py</b>」
	<li>郵件的主旨請打python_作業?，「<b>python_作業一</b>」
    <li>違反以上幾點造成助教不便者，後果自負
</ol>

<h3>做作業的注意事項</h3>
基本上作業有問題都可以找助教討論，但請盡量不要直接說不會，或是甩一大串程式碼過來，然後說「程式怎麼跑不動?」，這樣我們會不知道怎麼引導各位思考。建議是還不習慣編寫程式的人可以使用<a href="#b3" STYLE="text-decoration:none">附註</a>的功能，標示自己到底寫了什麼，想一下為什麼程式是如何運行的。如果這樣還是不行的話，請盡快聯絡助教，幫你們debug。<br>


<h3>計算程式執行的時間</h3>
由於第一次作業有部分的人製作出來的程式碼執行的時間過久，造成助教閱讀上的負擔。因此這邊教一下如何使用計算程式執行時間的function。如果想了解內部怎麼運作可以自己google或找助教。請以後交上來的功課都要附上程式運行的時間，<b>輸出的時間不得大於60</b>，會依情況做調整。<br>
<pre>
import time
tStart=time.time()

待測時間的程式碼

tEnd=time.time()
print 'total time='+str(tEnd-tStart)
</pre>
只要最後輸出的 total time 小於60即可。
<hr>

<h2><a name="b">2017/02/24</a></h2>
<ul>
	<li><h3><a name='b1'>安裝</a></h3></li>
	<ol>
		<li>進入<a href="http://python-xy.github.io/"STYLE="text-decoration:none" target="_blank">Python(x,y)</a>
		<li>點選右上角的<a href='http://python-xy.github.io/downloads.html'STYLE="text-decoration:none" target="_blank"><img src="http://python-xy.github.io/images/dl_icon.png"width="20" height="20"></a>進入下載頁面
		<li>點選<a href='http://ftp.ntua.gr/pub/devel/pythonxy/Python(x,y)-2.7.10.0.exe'STYLE="text-decoration:none" target="_blank">Python(x,y)-2.7.10.0.exe</a>下載安裝檔</li>
		<li>開啟安裝檔後，會進入Choose Users的介面，選擇Install just for me，接著點選Next
		<li>進入Choose Components的介面後，將Select the type of install那一欄改為<b>Full</b>，點Next就開始安裝
		<li>安裝完桌面應該會有<img src="http://python-xy.github.io/images/logo.png"width="50" height="25">，點開它
		<li>開啟後會出現如下圖的視窗，選擇紅黑圖案的鈕進入python</li><a href='https://scontent.ftpe1-2.fna.fbcdn.net/v/t1.0-9/16266306_1095322690577099_6752668180104757599_n.jpg?oh=9d193cfa7d4736e050f2a5f1eabc5c72&oe=591A76B0' target="_blank"><img src="https://scontent.ftpe1-2.fna.fbcdn.net/v/t1.0-9/16265619_1095325320576836_2921744933234946721_n.jpg?oh=b175a4cf8e3edd08f32af8f683481e2c&oe=591888F1"></a>
	</ol>        
<li><h3><a name='b2'>基礎概念</a></h3></li>
	<ul>
		<li><h4>概念一</h4></li>
		程式在運行的時候，進行的是數學上的運算，因此想要利用變數來協助編寫程式碼的時候，需要指定一個數值給變數。指定的方式就是利用「=」這個符號。範例如下<br><br>
		a=2<br><br>
		範例代表的意思即「<b>把2這個值指定給a這個變數</b>」。另一方面，可以利用另一個變數來與這個變數a做連結，例如b=a。此時b和a會被程式視作一體的，當b的數值更動時就會影響a，反之亦然。
		<li><h4>概念二</h4></li>
		利用概念一，可以衍伸出類似加減乘除的計算方式。範例如下<br><br>
		<font color='#0066CC'>a</font>=a+3<br><br>
		意思是「<b>a+3得到的值指定給<font color='#0066CC'>a</font>這個變數</b>」。也就是說，假如原本a的值為2，那麼加上3之後就會得到5。程式把5這個值指定給<font color='#0066CC'>a</font>這個變數。
	</ul><br>
    
    <li><h3><a name="b3">附註</a></h3></li>
    標示附註的文字大多是給programer看的，可作為筆記使用，電腦在運行程式碼的時候不會去讀取。附註的類型有兩種，一種是只附註一行的「#」，以及附註多行的「'''」，使用方法如下:<br>
<pre>
#附註一行
    
'''
附註多行
多行
'''
</pre>
	<li><h3><a name="b4">資料的類型(Type)</a></h3></li>
	儲存資料有很多種方式，包含數字、數列、字串等等。不同類型的資料有時候不能直接做疊加或運算，需要將待處理的資料轉換成相同的類型，才能一起運算。資料之間的類型轉換方式如int(1.1)，就能把原本是浮點數的1.1轉換成整數形式的1。<br>
	以下我整理一下比較常用的幾種type。<br>
	<ol>
		<li><h4>數字</h4></li>
		數字分為int(integer整數)、float(floating-point number浮點數)和complex(complex number複數)。這邊因為複數沒辦法對應相應的實數，所以先主要討論整數和浮點數的部分。<br>
		我以10為例，整數形式int(10)為10，而浮點數形式float(10)為10.0，接著以10.6為例，整數形式int(10.6)為10而浮點數float(10.6)為10.6。初學者容易犯的錯就是把兩個整數做運算後，得出的結果並非自己所想的。範例如下:<br><br>
		程式碼<br>
		print 3/6<br><br>
		顯示為<br>
		0<br><br>
		一般而言雖然我們知道3/6等於0.5，但在這邊程式認知你的運算都是整數的類型，因此他把答案0.5取整數，就是程式所顯示的0了。解決的方法很簡單，只要把運算改成3.0/6或3/6.0或是3.0/6.0就能顯示0.5了。
		<li><h4>數列與矩陣</h4></li>
		可以處理數列的形式分為list和array這兩種，用np.arange叫出來的就是array的形式。這兩者都是儲存多個資料的方式，建立list的方法只要打上a=[0,1,2]或是a=range(3)就是一個list了!另一方面，array的話，幾乎用numpy建立出來的數列或矩陣都是這個形式的資料類型。<br>
		<li><h4>字串string</h4></li>
		字串就是用來儲存文字資料的一種資料形式，使用方法只要在要儲存的文字兩側放上「'」或是「”」即可，如「'文字'」<br><br>
		範例: print 'hello world!'<br><br>
	</ol>
<li><h3><a name="b5">for迴圈</a></h3></li>
	for迴圈是拿來執行固定次數的一個迴圈，執行的次數取決於你給的數列的長短。要特別注意的是在python裡使用像是for之類的工具時，必須使用縮排而非特殊字元或關鍵字來決定開始與結束。預設是用4個空白鍵(或是按一下Tab鍵)，來決定其內容包含哪些部分。範例如下:<br><br>
	程式碼<br>
	a=[1,3,5,7,9]<br>
	for i in a:<br>
	&nbsp;&nbsp;&nbsp;&nbsp;print i<br>
	&nbsp;&nbsp;&nbsp;&nbsp;print 'next'<br><br>
	輸出為<br>
	1<br>
	next<br>
	3<br>
	next<br>
	5<br>
	next<br>
	7<br>
	next<br>
	9<br>
	next<br>

<li><h3>作業</h3></li>
<ol>
	<li>安裝好python
    <li>找出5、-3.14、 [1,2,[1,2]]和'[2,4]'的type
	<li>用python寫一個費波那契數列，計算其第224項(第一項是0、第二項是1，接著是1,2,3,5,......)
</ol>
</ul>
<hr>

<h2><a name="c">2017/03/03</a></h2>
<ul>
	<li><h3><a name="c1">function and library</a></h3></li>
    <ol>
    	<li><b>def function</b></li><br><br>
        function是一個能自己設定好功能，便於重複使用的一個工具。如果在程式碼中有一很常用到的計算式的話，也能自己利用def function，讓整個程式碼看起來更簡潔。以下為範例
        <pre>
def velocity(x1,x2):
	y=x1*x2    
    return y
    
for t in range(5):
    v=velocity(9.8,t)
    print 't='+str(t)+'s','v='+str(v)+'m/s'
</pre>
		<li><b>import library</b></li><br><br>
        在python的世界裡，已經有許多人編寫好的函式可供引入並使用，如<a href='http://scipy.org/'STYLE="text-decoration:none" target="_blank"><b>SciPy.org</b></a>這裡面提供的，其中包含各種數學運算或繪圖等不同的功能。以下就來說明如何使用<br><br>
	<ol>
		<li><b>載入函式庫並取代稱</b></li><br><br>
		使用的方式為「import 函式庫名稱&nbsp;as&nbsp;代稱」這樣的形式<br><br>
		範例:<br>&nbsp;import&nbsp;numpy&nbsp;as&nbsp;np<br><br>
		打上如上列式子的程式碼後，就完成引入函式庫的動作了。此時當我們要引用函式庫numpy中的函式pi的功能時，只要打np.pi。當然覺得取代稱很麻煩也可以直接打import&nbsp;numpy就好，而引入函式的形式就變為numpy.pi。<br>
		<li><h4>自動尋找函式位在哪個函式庫中</h4></li><br>
		這個引入函式庫的方式比較偷懶。表示的方式是<br><br>
		「from 函式庫 import *」<br><br>
		範例:from numpy import *<br><br>
		這個指令會自動幫你搜尋你打的函式在哪個函式庫中，也就是本來要打np.pi的情況，你只要打pi就可以直接使用。這雖然對編寫者很方便，但會讓電腦多花一些時間尋找你的函式在哪個函式庫，程式執行的速度相比直接告訴他位置會來的慢。<br><br>
		<li><h4>直接從函式庫中引入函式</h4></li>
		這種引入方式就是直接從函式庫中引入所需的函式，可以簡單的只打pi就直接使用pi這個函式，也不會造成像上一種方法一樣，必須讓電腦去找函式在哪個函式庫中，表示的形式如下<br><br>
		from numpy import pi,sin<br>
		a=sin(pi/2)<br><br>
        
	</ol>
	</ol>
    <li><h3><a name="c2">常用的library</a></h3></li>
    <ol>
    <li><h4>numpy</h4></li>
    <table border=1>
			<td><b>功能</b></td>
			<td><b>範例</b></td>
			<tr>
			<td>全零數列</td>
			<td>np.zeros(2)</td>
            <tr>
			<td>全一數列</td>
			<td>np.ones(3)</td>
			<tr>
			<td>全零矩陣</td>
			<td>np.zeros((2,2))</td>
			<tr>
			<td>呼叫矩陣中的元素</td>
			<td>a[0,0]</td>
			<tr>
			<td>呼叫所有行</td>
			<td>a[:,0]</td>
			<tr>
			<td>呼叫所有列</td>
			<td>a[0,:]</td>
			<tr>
			<td>開根號</td>
			<td>np.sqrt(5)</td>
            <tr>
			<td>新增元素</td>
			<td>np.append(a,0)</td>
            <tr>
            
			<td>重排</td>
			<td>a.reshape((3,2))</td>
			<tr>
            <td>π</td>
			<td>np.pi</td>
		</table>
    <li><h4>隨機數(<a href='https://docs.python.org/2/library/random.html' STYLE="text-decoration:none" target="_blank">random</a>)</h4></li>
    <ul>
		<li><h4>產生隨機數</h4></li>
		import random as rd<br>
		r=rd.random()<br><br>
		<li><h4>洗牌</h4></li>
		import random as rd<br>
		a=range(10)<br>
		rd.shuffle(a)<br><br>
		<li><h4>隨機矩陣</h4></li>
		import <a href='https://docs.scipy.org/doc/numpy/reference/routines.random.html' STYLE="text-decoration:none" target="_blank">numpy.random</a> as nrd<br>
		r=nrd.random((5,5))<br><br>
	</ul>
    </ol>
    <li><h3><a name="c3">true and faulse</a></h3></li>
    判斷條件是通過判斷一個或多個語句的結果，並輸出True或False。判斷式中大概包含等於(==)、不等於(!=)、大於(>)、小於(&lt;)和大於等於(&gt;=)等種類。<br>
	當符合判斷式條件的時候，Python會給出True的回應，反之則為False。大家可以用以下程式碼進行嘗試<br><br>
	程式碼<br>
	print 1==1<br>
	print 1!=1<br><br>
	輸出為<br>
	True<br>
	False<br><br>
	另外如果有多個條件的話，則可以使用聯集(or)或是交集(and)的概念，範例如下<br><br>
	print 1==1 or 1!=1<br><br>
	結果為<br>
	True<br><br>    
    <li><h3><a name="c4">條件語句</a></h3></li>
    條件語句指的是假設一些條件，符合條件(True)就執行code，不符合(False)就不執行。設定的條件可以不只一個，以下做個範例:<br><br>
	程式碼<br>
<pre>
a=[0,1,5,6,4,2]
for i in a:
    if i&lt;2:
        print str(i)+'&lt;2'
    elif i&lt;4:
        print str(i)+'&lt;4'
    else:
        print str(i)+' other'
</pre>
	這邊特別注意到其實在a數列中1是同時符合i&lt;2以及i&lt;4的條件，但是這邊程式只顯示符合i&lt;2的結果。這是因為我們設定i&lt;4這個條件是用elif，也就是else if，也就是不符合先前條件且符合elif設定的條件的時候就執行code，如果前面條件符合的話就不執行。而如果有要顯示「1 matches condition2」的話，就把elif i&lt;4:改為if i&lt;4:就行了。<br><br>


    <li><h3>作業</h3></li>
    <ol>
    	<li>用def製作一個可以計算組合數的function
<pre>
hint:以下的程式碼可以達到階層的效果
x=1.0
for i in range(1,5):
	x=x*i

</pre>
        <li>用scipy.misc這個library中的comb這個function，確認上一題的function是可行的(測試C5取2就好)
        <li>找出1~100中，2的倍數和3的倍數各有幾個
    </ol>
</ul>

<hr>
<h2><a name="d">2017/03/10</a></h2>
<ul>
	<li><h3><a name="d1">條件循環(while)</a></h3></li>
    while語句使用上有點像條件語句結合for迴圈。以下為範例<br><br>
	程式碼<br>
	i=0<br>
	while i&lt;3:<br>
	&nbsp;&nbsp;&nbsp;&nbsp;print i<br>
	&nbsp;&nbsp;&nbsp;&nbsp;i=i+1 <br><br>
	輸出為<br>
	0<br>
	1<br>
	2<br><br>
	這組code表示的是當條件i&lt;3符合的時候，就執行print 和i=i+1，一直執行到條件不符合i&lt;3的時候就跳出while之外，執行下一步程式碼。<br><br>
    <li><h3><a name="d2">使用者輸入</a></h3></li>
    使用者輸入這個指令可以依據使用者輸入的資料，讓程式進行相應的動作，其中指令分為兩類，一個是輸入數字或字串等的input()，一個是將所有輸入值轉為字串的raw_input()，使用範例如下:<br><br>
	<ul>
		<li><h4>input程式碼</h4></li>
		a=input('type anything: ')<br>
		print a,type(a)<br>
		使用方法及結果如圖<br>
		<a href="https://scontent-tpe1-1.xx.fbcdn.net/v/t31.0-8/15440344_1053675074741861_8285242432193006478_o.jpg?oh=d926bf1d665f8a1ceb3ae0a7ea28346a&oe=58F1A9AC" STYLE="text-decoration:none" target="_blank"><img src="https://scontent-tpe1-1.xx.fbcdn.net/v/t1.0-9/15590177_1061359727306729_1717516064027129104_n.jpg?oh=82705140cc471df6994b3f49433fd4aa&oe=58F5F64A"></a><br><br>
		點擊綠色框框的區塊，使用者就能給a一個數值(int, float...)或是字串(string)了<br><br>
		另一方面，使用指令raw_input的話，不管輸入的東西是哪一種，他都會將這些東西轉成字串。範例如下:<br><br>
		<li><h4>raw_input程式碼</h4></li>
		a=raw_input('type anything: ')<br>
		print a,type(a)<br>
		輸入<br> 
		4<br>
		輸出為<br>
		4 &lt;type 'str'&gt;<br><br>
	</ul>

    <li><h3><a name="d3">時間(<a href='https://docs.python.org/2/library/time.html' STYLE="text-decoration:none" target="_blank">time</a>)</a></h3></li>
    time是一個提供各種與時間相關的function(函式)的library(函式庫)，可用來記錄程式碼執行的時間，輸出的數字為以秒當作單位。
    <ul>
        <li><h4>用clock function計時</h4></li>
            clock這個函式紀錄的是從程式開始運行後經過的時間，輸出的是以秒為單位，type為float的資料，以下為使用範例<br><br>
            import time as t<br>
            tstart=t.clock()<br>
            要執行的程式碼<br>
            tend=t.clock()<br>
            print 'The program takes '+str(tend-tstart)+' seconds.'<br><br>
        <li><h4>用time function計時</h4></li>
        	使用time來計時基本上和使用clock相同。不同的點在於function定義0s的時間。clock定義程式開始執行的時候為0s，time則定義該版本(本版本為4.9.10的python)發布的時間為0s。
    </ul>    
    <li><h3>Homework</h3></li>
    製作一款在30秒內，猜一個小於100的數字的遊戲。<br><br>
    <b>功能包含:</b>
    <ol>
    	<li>計時30s。超時程式就結束
        <li>產生隨機數給玩家猜
        <li>猜到數後，程式就會結束
    </ol><br><br>
<b>hint1:</b><pre>
t=time.clock()可計錄程式執行的時間
n=random.randrange(1,100,1)會隨機產生一個在一到一百之間，以一為公差的數
break能中止while的進行
</pre>
<b>hint2(可用可不用):</b>
關於input括號內的字，由於預設編碼的關係，只能顯示英文字，如果使用中文的話會顯示亂碼。<br>
因此如果想要使用中文的話，可以在字串旁篇加上一個u，將編碼切換成能支援中文的編碼─unicode。<br><br>
例如:<br>
a=input(u'哈囉')<br><br>
<b>hint3(可加可不加):</b><br>
程式執行完畢或是出現錯誤的時候，py檔通常是直接關閉了!<br>
因此如果想保留畫面顯示遊戲結果的話，可以利用以下指令<br>
<pre>
q=0
while q==0:
    q=raw_input('Input any key to quit: ')
</pre>
</ul>

<hr>
<h2><a name="e">2017/03/17</a></h2>
<ul>
    <li><h3><a name="e1">Matrix(矩陣)運算</a></h3></li>
    <ul>
		<li><h4>矩陣運算</h4></li>
		矩陣的運算有兩種指令來運算，一種是把直接建立矩陣來運算，範例如下<br><br>
		import numpy as np<br>
		a=np.matrix([[1,2],[3,4]])<br>			
		b=np.matrix([[1,2],[3,4]])<br>
		c=a*b<br>
		print c<br><br>
		另一種方式是建立一個array後再用dot的指令進行矩陣運算。範例如下<br><br>
		import numpy as np<br>
		x=np.array([[1,2],[3,4]])<br>
		y=np.array([[1,2],[3,4]])<br>
		z1=x*y<br>
		z2=np.dot(x,y)<br>
		print 'z1='<br>
		print z1<br>
		print 'z2='<br>
		print z2<br><br>

		由範例的結果z1和z2我們可以觀察到，前者不使用dot的指令進行相乘的話，僅只有對應位置的元素相乘，而非我們所理解的矩陣乘法。當如後者使用dot的指令進行運算的話則為一般的矩陣運算。

		<li><h4>其他矩陣相關工具(<a href="https://docs.scipy.org/doc/numpy/reference/routines.linalg.html" STYLE="text-decoration:none" target="_blank">Linear algebra</a>)</h4></li>
		取行列式值<br>
		np.linalg.det(a)<br><br>
		取反矩陣<br>
		np.linalg.inv(a)<br><br>
        全零矩陣<br>
        np.zeros((2,2))<br><br>
        全一矩陣<br>
        np.ones((2,2))<br><br>
        對角矩陣<br>
        np.eye(2)<br><br>
        呼叫所有行<br>
        a[:,0]<br><br>
        呼叫所有列<br>
        a[0,:]<br><br>
	</ul>
    <li><h3><a name="e2">作圖</a></h3></li>  
    靜圖的函式庫主要是使用<a href="http://matplotlib.org/gallery.html" STYLE="text-decoration:none" target="_blank">matplotlib</a>這個函式庫。首先將函式庫引入<br><br>
	import matplotlib.pyplot as plt<br><br>
	接著如果要畫一個2D圖的話，我們需要先建立兩個長度相同的數列，如<br><br>
	x=[1,2,3,4]<br>
	y=[4,5,2,3]<br><br>
	這兩個數列代表著2D圖上的每一個x座標與y座標，跟excel畫圖有類似。畫圖方式如下<br><br>
	plt.plot(x,y,'-o',label="note")<br>
	plt.legend()<br>
	plt.show()<br><br>
	第一條指令裡的第一和第二個元素代表x座標與y座標，第三個元素代表畫線的方式是用圓圈標示點並用線相連，第四個元素代表這條線的標籤(圖中右上角那個框框中的東西)。
	而為了要在圖中建立右上角那個框框，我們需要使用第二條指令來建立<br><br>

	plt.xlabel('xlabel')<br>
	plt.ylabel('ylabel')<br><br>
	這樣你在括號中打的字串就會出現在圖中的座標軸旁邊了!<br><br>

	<h3>靜圖相關函式</h3>
	<ul>
		<li><h4>plt.plot()的可添加功能</h4></li>
		<table border=1>
			<td><b>功能</b></td>
			<td><b>範例</b></td>
			<tr>
			<td>連結資料點的圖案</td>
			<td>'-o'</td>
			<tr>
			<td>資料線或點的顏色</td>
			<td>color=[0.2,0.3,0.4]</td>
			<tr>
			<td>資料標籤</td>
			<td>label='string'</td>
		</table>
		<li><h4>標示坐標軸</h4></li>
		plt.xlabel('string')<br>
		plt.ylabel('string')<br>
		<li><h4>分割視窗</h4></li>
		假設要畫六張圖，分布為上下兩張圖左右三張圖的排列方式: ( 2 x 3 )<br><br>
		<table border="1" >
			<td>(1)</td>
			<td>(2)</td>
			<td>(3)</td>
			<tr>
			<td>(4)</td>
			<td>(5)</td>
			<td>(6)</td>
			<tr>
		</table><br>
		如果要畫第(5)張圖的位置輸入<b>plt.subplot(235)</b>
        <li><h4>儲存圖片</h4></li>
        plt.savefig('檔案名.png')
	</ul>
    
    <li><h3><a name="e3">解ODE常微分方程(函式庫: <a href="https://docs.scipy.org/doc/scipy-0.18.1/reference/generated/scipy.integrate.odeint.html#scipy.integrate.odeint" STYLE="text-decoration:none" target="_blank">scipy.integrate.odeint</a>)</a></h3></li>
    範例:解&nbsp;&nbsp;-cv-kx=ma，阻尼力+彈力=合力<br>
    v= x'= x對時間一次微分項，a= x''= x對時間二次微分項<br><br>
    使用上首先就是給定初始條件。例如說如果解到二次微分項的話，一次和零次微分項的初始值。接著準備一個function，輸入的值包含初始條件以及要計算的時間範圍，要回傳的值則是一次微分以及二次微分項。最後開始計算時，先令一個時間範圍，使用odeint()這個function，括號內依序置入剛剛設定的function、初始條件以及時間。<br><br>
    <pre>
import scipy.integrate as sci
import numpy as np
import matplotlib.pyplot as plt

m=5 #(kg)
k=2 #(N/m)
c=1.5 #(Ns/m)
ic=[0,5] #initial condition=[x0(m),v0(m/s)]

def fun(inp,t):
    #x0=inp[0],v0=inp[1]
    out=[inp[1],(-c*inp[1]-k*inp[0])/m]  #out=[x',x'']
    return out

t=np.linspace(0.0,30.0,101) #(second)
x=sci.odeint(fun,ic,t)  #sci.odeint(function,intitial condition,time)
plt.plot(t,x[:,0]) #x-t graph
    </pre>
    最後輸出的x會是一個2 X n的陣列。第0行x[:,0]代表的是每個時間點的位置，第1行x[:,1]則代表的是每個時間點的速度。
    <li><h3>Homework</h3></li>
    <ul>
    	<li><b>用python畫出下圖</b></li>
        <img src="./leaf.png"width=10% height=10%><br>
	此圖形的相關資料:「<a href="http://boson4.phys.tku.edu.tw/high_school/unit_fractals.htm"STYLE="text-decoration:none" target="_blank">碎形介紹</a>」,「<a href="http://ecademy.agnesscott.edu/~lriddle/ifs/ifs.htm"STYLE="text-decoration:none" target="_blank">疊代函數系統IFS</a>」,「<a href="http://www.fractalartcontests.com/2006/entries.php
"STYLE="text-decoration:none" target="_blank">ICM 2006 Benoit Mandelbrot 碎形藝術競賽</a>」<br><br> 
        <b>hint1:</b><br>
        因為這題作業進行的迴圈數有5000多次，因此程式在運行上會稍微慢一點正常的現象<br><br>
        <b>hint2:</b><br>
        在使用if的時候，千萬不要像平常數學上使用的2&lt;x&lt;3直接丟入條件語句裡，雖然程式上是可以解讀的，但跟他的概念是先判斷2&lt;x的結果，例如說是True，接著變成判斷True&lt;3，得到結果True，這樣的結果。因此為了避免這種狀況發生，請使用聯集(&amp;)的功能
        <br>如if 2&lt;x and x&lt;3:。<br><br>
        
        參考參數:<br>
        <img src="./parameter.png"width=25% height=25%><br><br>
        <li><b>解二維座標下-cv<sub>r</sub>-kr=ma<sub>r</sub></b></li><br>
        m=5kg<br>
        c<sub>x</sub>=1.5Ns/m<br>
        c<sub>y</sub>=2.0Ns/m<br>
        k<sub>x</sub>=2.0Ns/m<br>
        k<sub>y</sub>=1.5Ns/m<br>
        起始位置座標為(0,0)m，起始速度為(10,10)m/s<br>
        畫出從0到30秒間，此點的行經路徑，即各時間點y位置對x位置的圖。<br><br>
        
        <li><b>補充(非作業，看看就好):</b></li><br>
        這邊就大概解釋一下IFS在做什麼。這個方法主要的目的是藉由不斷地<b>縮放、旋轉以及平移</b>，使原本相異的起始圖案最後會逐漸趨於一個穩定的形式。縮放以及旋轉依靠的就是縮放和旋轉矩陣來控制，平移則是替x和y加減一個值即可。<br>
        基本上要用IFS製作碎形圖的時候會有一個目標圖形，這個圖形越複雜，他的子圖形就會越多(如葉子就有四個子圖形，包含主葉片、左葉片、右葉片以及他的莖)，每個子圖形所佔的比例不同會連帶影響最後的結果。<br>
        其中最直接影響輸出結果的應該屬於縮放的部分，因此子圖形佔的比例為各個矩陣的行列式值比。可以看見在作業一中使用的r=random.random.rand()功能是作為機率使用的，以此讓比例高的子圖形佔有更大的機率進行疊代，讓圖形的分布符合所求的圖形。<br><br>
        另外再介紹一個不同於作業一的IFS製作碎形圖的方法，此種製圖方法是使用<a href="https://www.youtube.com/watch?v=Quw4ZHLH2CY"STYLE="text-decoration:none" target="_blank">牛頓法</a>製作。範例中為以牛頓法在複數空間下解z<sup>3</sup>-1=0這條方程式，並以不同顏色標示每個猜解的點最後收斂在此方程式的各個解。<br>
        <b>注意:</b>以下程式碼運算量極大(跑圖的時候看起來當掉的那種)，要嘗試的人可以先把所有np.arange(-1,1,0.015)改用np.arange(-1,1,0.02)做測試。<br><br>
        
        <pre>
import matplotlib.pyplot as plt
import numpy as np
for i in np.arange(-1,1,0.015):
    for j in np.arange(-1,1,0.015):    
        n=complex(i,j)
        erro=1
        x=n       
        while erro>1e-4:
            xn=x-( (x**3)-1 )/(3*(x**2))
            erro=abs(xn-x)
            x=xn
        if abs(x-complex(1,0))&lt;1e-3:
            c='red'
        if abs(x-complex(-0.5,np.sqrt(3.0/4)))&lt;1e-3:
            c='yellow'
        if abs(x-complex(-0.5,-np.sqrt(3.0/4)))&lt;1e-3:
            c='blue'
        plt.plot(n.real,n.imag,'.',color=c)
plt.show()
        </pre>
    </ul>
</ul>

<hr>

<h2><a name="f">2017/03/24</a></h2>
要學習Vpython要怎麼用的話，基本上可以參考<b><a href="http://vpython.org/" STYLE="text-decoration:none" target="_blank">Vpython</a>、<a href="http://www.glowscript.org/docs/VPythonDocs/index.html" STYLE="text-decoration:none" target="_blank">Vpython Help</a>和<a href="http://tcjd71.wixsite.com/vpython" STYLE="text-decoration:none" target="_blank">VPhysics NTU</a></b>這些網站就好。裡面也沒什麼太難的技巧，就只是在將各種參數輸入模型裡就行。<br>
<a href="./vpython.html" STYLE="text-decoration:none" target="_blank"><b>參數表</b></a>
<ul>
	<li><h3>上課講義</h3></li>
    <pre>
from visual import *

'''
ball=sphere()
ball.color=color.red
ball.pos=(-5,0,0)
ball.radius=0.5
'''
'''
wall = box()
wall.color = color.green
wall.size = (0.2,4,4)
wall.pos=(6,0,0)
'''
'''
v1 = vector(1,2,3)
v2 = vector(2,1,5)
print v1.x,v1.y,v1.z
'''
'''
ball=sphere()
ball.pos=(-5,0,0)
ball.radius=0.5

wall1 = box()
wall1.color = color.green
wall1.size = (0.2,4,4)
wall1.pos=(6,0,0)

wall2 = box()
wall2.color = color.green
wall2.size = (0.2,4,4)
wall2.pos=(-6,0,0)



ball.velocity = vector(2,0,0)
while (1==1):
    rate(100)
    dt = 0.05
    ball.pos = ball.pos + ball.velocity*dt
    if ball.x &gt; wall1.x: 
        ball.velocity.x = -ball.velocity.x
    if ball.x &lt; wall2.x: 
        ball.velocity.x = -ball.velocity.x
'''
#sphere()    
#box() 
#cylinder()
#arrow()
#ellipsoid()
#helix()

#sphere(pos=(-1,0,0),radius=0.5,color=color.green)
#arrow(pos=(-1,0,0),axis=(+1,+3,0),color=color.red)


#c=curve(pos=(1, 0, 0))
#for i in arange(0, 10, 0.1):
#    c.append(pos=(cos(i), sin(i), i))

#c = gcurve()
#for i in arange(0, 10, 0.1):
#    c.plot(pos = (i, cos(i)))
</pre>    
  <li><h3>二維碰撞</h3></li>
  <pre>
from visual import *
size = 0.1          

scene = display(width=800, height=800,  background=(0.5,0.5,0))             	
b1 = sphere(radius = size,  color=color.yellow)         				
b2 = sphere(radius = size,  color=color.green)          				

b1.pos = vector( 0.6 , 0.1, 0)                        	
b2.pos = vector( 0 , 0 , 0)                           	
b1.v = vector(-0.2, 0, 0)                              	
b2.v = vector(0 , 0, 0)                                	

dt = 0.001                                                          
while True:
    rate(1000)
					
    b1.pos += b1.v * dt 
    b2.pos += b2.v * dt

    if abs(b1.pos - b2.pos)&gt;=2*size and dot(b1.v, b2.v) &gt;= 0 :
        v1prime = b1.v - (b1.pos-b2.pos)  * dot (b1.v-b2.v, b1.pos-b2.pos) / abs(b1.pos-b2.pos)**2
        v2prime = b2.v - (b2.pos-b1.pos)  * dot (b2.v-b1.v, b2.pos-b1.pos) / abs(b2.pos-b1.pos)**2
        b1.v, b2.v = v1prime, v2prime
	</pre>
	<li><h3>Homework</h3></li>
    1.試著改動二維碰撞中的參數，runrun看哪裡不一樣<br>
	2.將二維碰撞程式碼用”#”註解<br>

</ul>
<hr>

<h2><a name="g">2017/04/07</a></h2>
<ul>
	<li><h3>彈簧運動</h3></li>
    <pre>
from visual import *

g = 9.8          
size = 0.05         
r = 0.5             
k = 10             
m = 0.2             
'-----------------------------------------------------------------------------'
scene = display(width=800, height=800, center=(0, -r*0.6, 0), background=(0.5,0.5,0))  
ceiling = box(length=0.8, height=0.005, width=0.8, color=color.blue)                   
ball = sphere(radius = size,  color=color.red)                              
spring = helix(radius=0.02)                                

ball.pos0 = vector(0, -r, 0) 					
ball.pos = vector(0, -r , 0)        				
ball.v = vector(0, 0, 0)            					
'------------------------------------------------------------------------------'
dt = 0.001   
while True :
    rate(1000)
    spring.axis = ball.pos - spring.pos 		

    ball.a = vector(0, - g - k * (ball.pos.y - ball.pos0.y )/m , 0)
						

    ball.v +=   ball.a*dt
    ball.pos += ball.v*dt
    </pre>
    
    <li><h3>二維碰撞</h3></li>
    <pre>
from visual import *
size = 0.1          

scene = display(width=800, height=800,  background=(0.5,0.5,0))             	
b1 = sphere(radius = size,  color=color.yellow)         				
b2 = sphere(radius = size,  color=color.green)          				

b1.pos = vector( 0.6 , 0.1, 0)                        	
b2.pos = vector( 0 , 0 , 0)                           	
b1.v = vector(-0.2, 0, 0)                              	
b2.v = vector(0 , 0, 0)                                	

dt = 0.001                                                          
while True:
    rate(1000)
					
    b1.pos += b1.v * dt 
    b2.pos += b2.v * dt

    if abs(b1.pos - b2.pos)&lt;=2*size and dot(b1.v, b2.v) &lt;= 0 :
        v1prime = b1.v - (b1.pos-b2.pos)  * dot (b1.v-b2.v, b1.pos-b2.pos) / abs(b1.pos-b2.pos)**2
        v2prime = b2.v - (b2.pos-b1.pos)  * dot (b2.v-b1.v, b2.pos-b1.pos) / abs(b2.pos-b1.pos)**2
        b1.v, b2.v = v1prime, v2prime

    </pre>
    <li><h3>彈簧運動向量</h3></li>
    <pre>
from visual import *

g = 9.8            
size = 0.05       
r = 0.5            
k = 10            
m = 0.2             

scene = display(width=800, height=800, center=(0, -r*0.6, 0), background=(0.5,0.5,0))  
ceiling = box(length=0.8, height=0.005, width=0.8, color=color.blue)                    
ball = sphere(radius = size,  color=color.red)                             
spring = helix(radius=0.02)                               

ball.pos0 = vector(0, -r, 0) 					
ball.pos = vector(0, -r , 0)        					
ball.v = vector(0, 0, 0)            					

ball_v_arrow = arrow(shaftwidth = 0.01)
ball_a_arrow = arrow(shaftwidth = 0.01)  #軸

dt = 0.001   
while True:
    rate(100)
    spring.axis = ball.pos - spring.pos 		

    ball.a = vector(0, - g - k * (ball.pos.y - ball.pos0.y )/m , 0)
						

    ball.v +=   ball.a*dt
    ball.pos += ball.v*dt

    ball_v_arrow.pos = ball.pos + vector(size, 0, 0)
    ball_v_arrow.axis = ball.v / 5.0

    ball_a_arrow.pos = ball.pos - vector(size, 0, 0)
    ball_a_arrow.axis = ball.a / 50.0

    </pre>
	<li><h3>Homework</h3></li>
    試著用彈簧運動模型，做出阻尼運動模型出來。<br><br>

Hint: 可以利用作業四的運動方程式，把運動公式寫出來<br>

請記得 # 詳記註解

</ul>
</body>
</html>
